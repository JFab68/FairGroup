import { useState } from 'react'; import { useQuery } from 'react-query'; import { format } from 'date-fns'; import api from '../../services/api'; import { useAuth } from '../../hooks/useAuth';
const EventCalendar = () => { const [filter, setFilter] = useState('all'); const { member } = useAuth(); const { data: events, isLoading } = useQuery(['events', filter], () => api.get(`/api/events?filter=${filter}`).then(res => res.data)); if (isLoading) return <div>Loading...</div>; return (<div><h1>Master Calendar</h1><div style={{ marginBottom: '1.5rem' }}><label>Filter: </label><select value={filter} onChange={(e) => setFilter(e.target.value)}><option value='all'>All Events</option><option value='my-subcommittees'>My Subcommittees Only</option></select></div><div style={{ display: 'grid', gap: '1rem' }}>{events?.map(event => (<div key={event.id} style={{ padding: '1rem', border: '1px solid var(--border)', borderRadius: '8px' }}><h3>{event.title}</h3><p>{format(new Date(event.start_datetime), 'PPpp')}</p><p>{event.location}</p>{event.subcommittee_name && <p><strong>Subcommittee:</strong> {event.subcommittee_name}</p>}<p>{event.description}</p></div>))}</div></div>); };
export default EventCalendar;
